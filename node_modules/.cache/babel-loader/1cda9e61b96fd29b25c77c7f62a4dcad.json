{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tgound\\\\Desktop\\\\NCKH\\\\Web1\\\\frontend\\\\src\\\\pages\\\\ForumPage\\\\index.js\",\n    _s = $RefreshSig$();\n\n// Components\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\"; // Components\n\nimport { Header } from \"../../components/Header\"; // Css\n\nimport \"../ForumPage/index.css\";\nimport PostModal from \"./PostModal\";\nimport Post from \"./Post\";\nimport { createPost as createPostApi } from \"../../api/postAPI\"; // *Export\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Forum = () => {\n  _s();\n\n  const [isOpenModal, setIsOpenModal] = React.useState(false);\n  const [isScroll, setIsScroll] = React.useState(false);\n  const [openPost, setOpenPost] = useState(false);\n  const [backendPosts, setBackendPosts] = useState([]);\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const [posts, setPosts] = useState([]);\n  const Message = styled.div`\n  margin-top: -20vh;\n  font-size: 40px;\n  font-align: center;\n  font-weight: 500\n  `;\n  const PageMessage = styled.div`\n  background-color: var(--primary-color);\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  `;\n\n  const fetchPosts = () => {\n    setPosts(backendPosts.filter(backendPost => backendPost.parentId === null));\n  };\n\n  const addPost = text => {\n    createPostApi(text).then(post => {\n      setBackendPosts([post, ...backendPosts]);\n    });\n  }; // Copy from header\n\n\n  function handleOnScroll() {\n    if (this.scrollY > 120) {\n      setIsScroll(true);\n    } else {\n      setIsScroll(false);\n    }\n  }\n\n  React.useEffect(() => {\n    if (currentUser) {\n      fetchPosts();\n    } else {\n      setIsOpenModal(true);\n    }\n  }, [currentUser]);\n  React.useEffect(() => {\n    window.addEventListener(\"scroll\", handleOnScroll);\n    return () => window.removeEventListener(\"scroll\", handleOnScroll);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      isOpenModal: isOpenModal,\n      setIsOpenModal: setIsOpenModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), openPost && /*#__PURE__*/_jsxDEV(PostModal, {\n      closeModal: setOpenPost\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 20\n    }, this), currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forum-page-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `left-menu ${isScroll ? \"active\" : \"\"} `,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"heading\",\n          children: \"Danh m\\u1EE5c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"other-pages\",\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"\",\n            className: \"list-item hot-thread\",\n            children: \"B\\xE0i vi\\u1EBFt n\\xF3ng \\uD83D\\uDD25\\uD83D\\uDD25\\uD83D\\uDD25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/saved\",\n            className: \"list-item saved-thread\",\n            children: \"B\\xE0i vi\\u1EBFt \\u0111\\xE3 l\\u01B0u \\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"newsfeed\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-container\",\n          onClick: () => {\n            setOpenPost(true);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text\",\n            children: \"H\\xF4m nay b\\u1EA1n c\\xF3 tin g\\xEC?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"choose-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Post, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: posts.map(post => /*#__PURE__*/_jsxDEV(Post, {\n            post: post,\n            addComment: addPost // deleteComment={deletePost}\n            // updateComment={updatePost}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `right-menu ${isScroll ? \"active\" : \"\"} `,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.thesprucepets.com/thmb/sfuyyLvyUx636_Oq3Fw5_mt-PIc=/3760x2820/smart/filters:no_upscale()/adorable-white-pomeranian-puppy-spitz-921029690-5c8be25d46e0fb000172effe.jpg\",\n          alt: \"your avatar\",\n          className: \"your-avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profilepage\",\n          className: \"your-name\",\n          children: currentUser ? currentUser.name : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"your-level\",\n          children: currentUser ? currentUser.email : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 22\n    }, this) : /*#__PURE__*/_jsxDEV(PageMessage, {\n      children: /*#__PURE__*/_jsxDEV(Message, {\n        children: \"B\\u1EA1n c\\u1EA7n \\u0111\\u0103ng nh\\u1EADp \\u0111\\u1EC3 s\\u1EED d\\u1EE5ng t\\xEDnh n\\u0103ng n\\xE0y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Forum, \"fPMSE4iJwMBtzI1ejgbiqDtkmJ8=\", false, function () {\n  return [useSelector];\n});\n\n_c = Forum;\n\nvar _c;\n\n$RefreshReg$(_c, \"Forum\");","map":{"version":3,"sources":["C:/Users/tgound/Desktop/NCKH/Web1/frontend/src/pages/ForumPage/index.js"],"names":["React","useState","Link","useSelector","styled","Header","PostModal","Post","createPost","createPostApi","Forum","isOpenModal","setIsOpenModal","isScroll","setIsScroll","openPost","setOpenPost","backendPosts","setBackendPosts","currentUser","state","user","posts","setPosts","Message","div","PageMessage","fetchPosts","filter","backendPost","parentId","addPost","text","then","post","handleOnScroll","scrollY","useEffect","window","addEventListener","removeEventListener","display","flexDirection","map","name","email"],"mappings":"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","sourcesContent":["// Components\r\nimport React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n// Components\r\nimport { Header } from \"../../components/Header\";\r\n\r\n// Css\r\nimport \"../ForumPage/index.css\";\r\nimport PostModal from \"./PostModal\";\r\nimport Post from \"./Post\";\r\nimport { createPost as createPostApi } from \"../../api/postAPI\";\r\n\r\n// *Export\r\nexport const Forum = () => {\r\n  const [isOpenModal, setIsOpenModal] = React.useState(false);\r\n  const [isScroll, setIsScroll] = React.useState(false);\r\n\r\n  const [openPost, setOpenPost] = useState(false);\r\n\r\n  const [backendPosts, setBackendPosts] = useState([]);\r\n\r\n  const { currentUser } = useSelector(state => state.user);\r\n\r\n  const [posts, setPosts] = useState([])\r\n\r\n  const Message = styled.div`\r\n  margin-top: -20vh;\r\n  font-size: 40px;\r\n  font-align: center;\r\n  font-weight: 500\r\n  `\r\n  const PageMessage = styled.div`\r\n  background-color: var(--primary-color);\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  `\r\n\r\n  const fetchPosts = () => {\r\n    setPosts(backendPosts.filter(\r\n      (backendPost) => backendPost.parentId === null\r\n    ));\r\n  }\r\n\r\n  const addPost = (text) => {\r\n    createPostApi(text).then((post) => {\r\n      setBackendPosts([post, ...backendPosts]);\r\n    });\r\n  };\r\n\r\n  // Copy from header\r\n  function handleOnScroll() {\r\n    if (this.scrollY > 120) {\r\n      setIsScroll(true);\r\n    } else {\r\n      setIsScroll(false);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => { if (currentUser) { fetchPosts() } else { setIsOpenModal(true) } }, [currentUser])\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"scroll\", handleOnScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleOnScroll);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Header isOpenModal={isOpenModal} setIsOpenModal={setIsOpenModal} />\r\n\r\n      {openPost && <PostModal closeModal={setOpenPost} />}\r\n\r\n      {currentUser ? <div className=\"forum-page-container\">\r\n        <div className={`left-menu ${isScroll ? \"active\" : \"\"} `}>\r\n          <p className=\"heading\">Danh mục</p>\r\n          <div\r\n            className=\"other-pages\"\r\n            style={{ display: \"flex\", flexDirection: \"column\" }}\r\n          >\r\n            <Link to=\"\" className=\"list-item hot-thread\">\r\n              Bài viết nóng 🔥🔥🔥\r\n            </Link>\r\n            <Link to=\"/saved\" className=\"list-item saved-thread\">\r\n              Bài viết đã lưu ✅\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"newsfeed\">\r\n          <div\r\n            className=\"post-container\"\r\n            onClick={() => {\r\n              setOpenPost(true);\r\n            }}\r\n          >\r\n            <p className=\"text\">Hôm nay bạn có tin gì?</p>\r\n            <div className=\"choose-btn\">\r\n              <p>+</p>\r\n            </div>\r\n          </div>\r\n          <Post />\r\n          <div>\r\n            {posts.map((post) => (\r\n              <Post\r\n                post={post}\r\n                addComment={addPost}\r\n              // deleteComment={deletePost}\r\n              // updateComment={updatePost}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className={`right-menu ${isScroll ? \"active\" : \"\"} `}>\r\n          <img\r\n            src=\"https://www.thesprucepets.com/thmb/sfuyyLvyUx636_Oq3Fw5_mt-PIc=/3760x2820/smart/filters:no_upscale()/adorable-white-pomeranian-puppy-spitz-921029690-5c8be25d46e0fb000172effe.jpg\"\r\n            alt=\"your avatar\"\r\n            className=\"your-avatar\"\r\n          />\r\n          <Link to=\"/profilepage\" className=\"your-name\">\r\n            {currentUser ? currentUser.name : \"\"}\r\n          </Link>\r\n          <p className=\"your-level\">{currentUser ? currentUser.email : \"\"}</p>\r\n        </div>\r\n      </div> : <PageMessage>\r\n        <Message>\r\n          Bạn cần đăng nhập để sử dụng tính năng này\r\n        </Message>\r\n      </PageMessage>}\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}