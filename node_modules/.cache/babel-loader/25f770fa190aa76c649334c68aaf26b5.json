{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tgound\\\\Desktop\\\\NCKH\\\\Web1\\\\frontend\\\\src\\\\pages\\\\Prediction\\\\Predict-crop\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Header } from \"../../../components/Header\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { cropData } from \"../Data\";\nimport axios from \"axios\";\nimport { Footer } from \"../../../components/Footer\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 550\n  },\n  table: {\n    minWidth: 450\n  }\n});\nexport const PredictCrop = () => {\n  _s();\n\n  const [isOpenModal, setIsOpenModal] = React.useState(false);\n  const [formData, setFormData] = useState({\n    N: \"\",\n    P: \"\",\n    K: \"\",\n    temperature: \"\",\n    humidity: \"\",\n    ph: \"\",\n    rainfall: \"\"\n  });\n  const [predictionData, setPredictionData] = useState({});\n\n  const handleChange = e => {\n    let newData = { ...formData\n    };\n    newData[e.target.id] = e.target.value;\n    setFormData(newData);\n  };\n\n  const click = () => {\n    // Tao ra mot Object co ten la data\n    const request = new FormData(); // cho vong lap key trong data them tung key vao data\n\n    for (let key in formData) {\n      request.append(key, formData[key]);\n    } // Su dung phuong thuc post de tra ve data\n\n\n    axios({\n      // phuong thuc post\n      method: \"POST\",\n      // duong link api\n      url: \"http://localhost:5000/predict_crop\",\n      // data\n      data: request,\n      // nhieu du lieu\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      // cai dat lai data bang res.data (data o day la object)\n      const responseData = res.data;\n      setPredictionData(responseData);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleBackClick = () => {\n    setPredictionData({});\n  };\n\n  const classes = useStyles();\n  const predictedCrop = cropData[predictionData.final_prediction];\n\n  if (predictionData.final_prediction) {\n    const outputComponent = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isOpenModal: isOpenModal,\n        setIsOpenModal: setIsOpenModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"output_container\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: `${classes.root} output_container__card`,\n          children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n            component: \"img\",\n            alt: predictedCrop.title,\n            height: \"400\",\n            image: predictedCrop.imageUrl,\n            title: predictedCrop.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              gutterBottom: true,\n              variant: \"h4\",\n              children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n                children: \"\\u0110\\u1EC1 xu\\u1EA5t cho \\u0111\\u1EA5t tr\\u1ED3ng \"\n              }, void 0, false), /*#__PURE__*/_jsxDEV(\"b\", {\n                children: predictedCrop.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              color: \"textSecondary\",\n              component: \"p\",\n              children: predictedCrop.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n              component: Paper,\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                size: \"medium\",\n                className: classes.table,\n                \"aria-label\": \"simple table\",\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      component: \"th\",\n                      align: \"center\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"D\\u1EF1 \\u0111o\\xE1n m\\xF4 h\\xECnh XGBoost\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      component: \"th\",\n                      align: \"center\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"D\\u1EF1 \\u0111o\\xE1n m\\xF4 h\\xECnh ng\\u1EABu nhi\\xEAn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      component: \"th\",\n                      align: \"center\",\n                      children: /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"D\\u1EF1 \\u0111o\\xE1n m\\xF4 h\\xECnh KNN\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: [predictionData.xgb_model_prediction, \" (\", predictionData.xgb_model_probability, \"%)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: [predictionData.rf_model_prediction, \" (\", predictionData.rf_model_probability, \"%)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: [predictionData.knn_model_prediction, \" (\", predictionData.knn_model_probability, \"%)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => handleBackClick(),\n              className: \"back__button\",\n              variant: \"contained\",\n              size: \"small\",\n              color: \"primary\",\n              children: \"Tr\\u1EDF V\\u1EC1 Trang D\\u1EF1 \\u0110o\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n\n    return outputComponent;\n  } else return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      isOpenModal: isOpenModal,\n      setIsOpenModal: setIsOpenModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__form_group\",\n        children: [predictionData.error && /*#__PURE__*/_jsxDEV(Alert, {\n          style: {\n            marginTop: \"20px\"\n          },\n          severity: \"error\",\n          children: [\" \", predictionData.error, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form__title\",\n            children: \"\\u0110\\u1EC1 xu\\u1EA5t c\\xE2y tr\\u1ED3ng cho \\u0111\\u1EA5t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => handleChange(e),\n          value: formData.N,\n          className: \"form__text_field\",\n          id: \"N\",\n          name: \"N\",\n          size: \"medium\",\n          variant: \"outlined\",\n          label: \"L\\u01B0\\u1EE3ng Nit\\u01A1 trong \\u0111\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => handleChange(e),\n          value: formData.P,\n          className: \"form__text_field\",\n          id: \"P\",\n          name: \"P\",\n          variant: \"outlined\",\n          label: \"L\\u01B0\\u1EE3ng ph\\u1ED1t pho trong \\u0111\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => handleChange(e),\n          value: formData.K,\n          className: \"form__text_field\",\n          id: \"K\",\n          name: \"K\",\n          variant: \"outlined\",\n          label: \"L\\u01B0\\u1EE3ng Kali trong \\u0111\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => handleChange(e),\n          value: formData.temperature,\n          className: \"form__text_field\",\n          id: \"temperature\",\n          name: \"temperature\",\n          variant: \"outlined\",\n          label: \"Nhi\\u1EC7t \\u0111\\u1ED9 (\\u1EDF Celcius)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => handleChange(e),\n          value: formData.humidity,\n          className: \"form__text_field\",\n          id: \"humidity\",\n          name: \"humidity\",\n          variant: \"outlined\",\n          label: \"\\u0110\\u1ED9 \\u1EA9m (t\\xEDnh b\\u1EB1ng%)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => handleChange(e),\n          value: formData.ph,\n          className: \"form__text_field\",\n          id: \"ph\",\n          name: \"ph\",\n          variant: \"outlined\",\n          label: \"Gi\\xE1 tr\\u1ECB pH c\\u1EE7a \\u0111\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => handleChange(e),\n          value: formData.rainfall,\n          className: \"form__text_field\",\n          id: \"rainfall\",\n          name: \"rainfall\",\n          variant: \"outlined\",\n          label: \"L\\u01B0\\u1EE3ng m\\u01B0a (t\\xEDnh b\\u1EB1ng mm)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => click(),\n          className: \"form__button\",\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"D\\u1EF1 \\u0110o\\xE1n C\\xE2y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 7\n  }, this);\n};\n\n_s(PredictCrop, \"wQIWVcBTb+0uyhenHSFjLKaKoRI=\", false, function () {\n  return [useStyles];\n});\n\n_c = PredictCrop;\n\nvar _c;\n\n$RefreshReg$(_c, \"PredictCrop\");","map":{"version":3,"sources":["C:/Users/tgound/Desktop/NCKH/Web1/frontend/src/pages/Prediction/Predict-crop/index.js"],"names":["React","useState","Button","TextField","Alert","Header","makeStyles","Card","CardActions","CardContent","CardMedia","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","cropData","axios","Footer","useStyles","root","maxWidth","table","minWidth","PredictCrop","isOpenModal","setIsOpenModal","formData","setFormData","N","P","K","temperature","humidity","ph","rainfall","predictionData","setPredictionData","handleChange","e","newData","target","id","value","click","request","FormData","key","append","method","url","data","headers","then","res","responseData","catch","err","console","log","handleBackClick","classes","predictedCrop","final_prediction","outputComponent","title","imageUrl","description","xgb_model_prediction","xgb_model_probability","rf_model_prediction","rf_model_probability","knn_model_prediction","knn_model_probability","error","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nimport { Header } from \"../../../components/Header\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { cropData } from \"../Data\";\r\nimport axios from \"axios\";\r\nimport { Footer } from \"../../../components/Footer\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 550,\r\n  },\r\n  table: {\r\n    minWidth: 450,\r\n  },\r\n});\r\n\r\nexport const PredictCrop = () => {\r\n  const [isOpenModal, setIsOpenModal] = React.useState(false);\r\n  const [formData, setFormData] = useState({\r\n    N: \"\",\r\n    P: \"\",\r\n    K: \"\",\r\n    temperature: \"\",\r\n    humidity: \"\",\r\n    ph: \"\",\r\n    rainfall: \"\",\r\n  });\r\n\r\n  const [predictionData, setPredictionData] = useState({});\r\n\r\n  const handleChange = (e) => {\r\n    let newData = { ...formData };\r\n    newData[e.target.id] = e.target.value;\r\n    setFormData(newData);\r\n  };\r\n\r\n  const click = () => {\r\n    // Tao ra mot Object co ten la data\r\n    const request = new FormData();\r\n\r\n    // cho vong lap key trong data them tung key vao data\r\n    for (let key in formData) {\r\n      request.append(key, formData[key]);\r\n    }\r\n    // Su dung phuong thuc post de tra ve data\r\n    axios({\r\n      // phuong thuc post\r\n      method: \"POST\",\r\n      // duong link api\r\n      url: \"http://localhost:5000/predict_crop\",\r\n      // data\r\n      data: request,\r\n      // nhieu du lieu\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    })\r\n      .then((res) => {\r\n        // cai dat lai data bang res.data (data o day la object)\r\n        const responseData = res.data;\r\n        setPredictionData(responseData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleBackClick = () => {\r\n    setPredictionData({});\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const predictedCrop = cropData[predictionData.final_prediction];\r\n\r\n  if (predictionData.final_prediction) {\r\n    const outputComponent = (\r\n      <div className=\"main\">\r\n        <Header isOpenModal={isOpenModal} setIsOpenModal={setIsOpenModal} />\r\n        <div className=\"output_container\">\r\n          <Card className={`${classes.root} output_container__card`}>\r\n            <CardMedia\r\n              component=\"img\"\r\n              alt={predictedCrop.title}\r\n              height=\"400\"\r\n              image={predictedCrop.imageUrl}\r\n              title={predictedCrop.title}\r\n            />\r\n            <CardContent>\r\n              <Typography gutterBottom variant=\"h4\">\r\n                <>Đề xuất cho đất trồng </>\r\n                <b>{predictedCrop.title}</b>\r\n              </Typography>\r\n              <Typography variant=\"h5\" color=\"textSecondary\" component=\"p\">\r\n                {predictedCrop.description}\r\n              </Typography>\r\n              <br />\r\n\r\n              <TableContainer component={Paper}>\r\n                <Table\r\n                  size=\"medium\"\r\n                  className={classes.table}\r\n                  aria-label=\"simple table\"\r\n                >\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell component=\"th\" align=\"center\">\r\n                        <b>Dự đoán mô hình XGBoost</b>\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" align=\"center\">\r\n                        <b>Dự đoán mô hình ngẫu nhiên</b>\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" align=\"center\">\r\n                        <b>Dự đoán mô hình KNN</b>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    <TableRow>\r\n                      <TableCell align=\"center\">\r\n                        {predictionData.xgb_model_prediction} (\r\n                        {predictionData.xgb_model_probability}%)\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {predictionData.rf_model_prediction} (\r\n                        {predictionData.rf_model_probability}%)\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {predictionData.knn_model_prediction} (\r\n                        {predictionData.knn_model_probability}%)\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </CardContent>\r\n            <CardActions>\r\n              <Button\r\n                onClick={() => handleBackClick()}\r\n                className=\"back__button\"\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                color=\"primary\"\r\n              >\r\n                Trở Về Trang Dự Đoán\r\n              </Button>\r\n            </CardActions>\r\n          </Card>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n\r\n    return outputComponent;\r\n  } else\r\n    return (\r\n      <div className=\"main\">\r\n        <Header isOpenModal={isOpenModal} setIsOpenModal={setIsOpenModal} />\r\n        <div className=\"form\">\r\n          <div className=\"form__form_group\">\r\n            {predictionData.error && (\r\n              <Alert style={{ marginTop: \"20px\" }} severity=\"error\">\r\n                {\" \"}\r\n                {predictionData.error}{\" \"}\r\n              </Alert>\r\n            )}\r\n\r\n            <center>\r\n              <div className=\"form__title\">Đề xuất cây trồng cho đất</div>\r\n            </center>\r\n            <TextField\r\n              onChange={(e) => handleChange(e)}\r\n              value={formData.N}\r\n              className=\"form__text_field\"\r\n              id=\"N\"\r\n              name=\"N\"\r\n              size=\"medium\"\r\n              variant=\"outlined\"\r\n              label=\"Lượng Nitơ trong đất\"\r\n            />\r\n            <TextField\r\n              onChange={(e) => handleChange(e)}\r\n              value={formData.P}\r\n              className=\"form__text_field\"\r\n              id=\"P\"\r\n              name=\"P\"\r\n              variant=\"outlined\"\r\n              label=\"Lượng phốt pho trong đất\"\r\n            />\r\n            <TextField\r\n              onChange={(e) => handleChange(e)}\r\n              value={formData.K}\r\n              className=\"form__text_field\"\r\n              id=\"K\"\r\n              name=\"K\"\r\n              variant=\"outlined\"\r\n              label=\"Lượng Kali trong đất\"\r\n            />\r\n            <TextField\r\n              onChange={(e) => handleChange(e)}\r\n              value={formData.temperature}\r\n              className=\"form__text_field\"\r\n              id=\"temperature\"\r\n              name=\"temperature\"\r\n              variant=\"outlined\"\r\n              label=\"Nhiệt độ (ở Celcius)\"\r\n            />\r\n            <TextField\r\n              onChange={(e) => handleChange(e)}\r\n              value={formData.humidity}\r\n              className=\"form__text_field\"\r\n              id=\"humidity\"\r\n              name=\"humidity\"\r\n              variant=\"outlined\"\r\n              label=\"Độ ẩm (tính bằng%)\"\r\n            />\r\n            <TextField\r\n              onChange={(e) => handleChange(e)}\r\n              value={formData.ph}\r\n              className=\"form__text_field\"\r\n              id=\"ph\"\r\n              name=\"ph\"\r\n              variant=\"outlined\"\r\n              label=\"Giá trị pH của đất\"\r\n            />\r\n            <TextField\r\n              onChange={(e) => handleChange(e)}\r\n              value={formData.rainfall}\r\n              className=\"form__text_field\"\r\n              id=\"rainfall\"\r\n              name=\"rainfall\"\r\n              variant=\"outlined\"\r\n              label=\"Lượng mưa (tính bằng mm)\"\r\n            />\r\n\r\n            <Button\r\n              onClick={() => click()}\r\n              className=\"form__button\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n            >\r\n              Dự Đoán Cây\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}