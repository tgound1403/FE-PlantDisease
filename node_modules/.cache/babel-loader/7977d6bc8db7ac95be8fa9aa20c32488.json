{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tgound\\\\Desktop\\\\NCKH\\\\Web1\\\\frontend\\\\src\\\\pages\\\\Profile\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Header } from \"../../components/Header\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst moment = require(\"moment\");\n\nconst DisplayInfo = styled.p`\n    font-size: 20px;\n    margin-left: 30px;\n    font-style: italic;\n    font-weight: 200\n  `;\n_c = DisplayInfo;\nconst DisplayInfoName = styled.p`\n    font-size: 20px;\n    display: block;\n    margin-top: -25px;\n    margin-left: 415px;\n    font-style: italic;\n    font-weight: 200\n  `;\n_c2 = DisplayInfoName;\nexport const Profile = () => {\n  _s();\n\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [birthday, setBirthday] = useState(Date);\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [firstNameDB, setFirstNameDB] = useState(\"\");\n  const [lastNameDB, setLastNameDB] = useState(\"\");\n  const [birthdayDB, setBirthdayDB] = useState(Date);\n  const [phoneNumberDB, setPhoneNumberDB] = useState(\"\");\n  const [emailDB, setEmailDB] = useState(\"\");\n  const [genderDB, setGenderDB] = useState(\"\");\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n\n  const handleSubmit = async e => {\n    // SEND data to DB\n    e.preventDefault();\n    console.log(firstName);\n    console.log(lastName);\n    console.log(birthday);\n    console.log(phoneNumber);\n    console.log(gender);\n    axios({\n      method: \"POST\",\n      url: `/api/users/edit-profile/${currentUser._id}`,\n      data: {\n        firstName,\n        lastName,\n        birthday,\n        phoneNumber,\n        gender\n      },\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      console.log(\"edit user info succeed\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const getUserInfo = () => {\n    axios.get(`/api/users/info/${currentUser._id}`).then(res => {\n      const data = res.data;\n      setFirstNameDB(data.firstName);\n      setLastNameDB(data.lastName);\n      setBirthdayDB(data.birthday);\n      setPhoneNumberDB(data.phoneNumber);\n      setGenderDB(data.gender);\n      console.log(\"user info has been received\");\n      console.log(data);\n    }).catch(err => {\n      alert(\"Error while get user info\");\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    getUserInfo(); // dispatch(loginSuccess(state => state.user))\n  }, []);\n\n  const formatDate = inputDate => {\n    return moment(inputDate).format('DD/MM/YYYY');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      isOpenModal: isOpenModal,\n      setIsOpenModal: setIsOpenModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"banner-profile\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-menu\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile__user profile__user-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile__image-user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this), firstNameDB === \"\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"profile__user-name\",\n                children: \"...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 39\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"profile__user-name\",\n                children: firstNameDB + \" \" + lastNameDB\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 83\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile__user profile__user-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-choose\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile-fullName\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"profile-font\",\n                    children: \"H\\u1ECD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"profile-ten profile-font\",\n                    children: \"T\\xEAn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile-name\",\n                  children: [firstNameDB === \"\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"profile__user-firstName\",\n                    value: firstName,\n                    onChange: e => setFirstName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 43\n                  }, this) : /*#__PURE__*/_jsxDEV(DisplayInfo, {\n                    children: firstNameDB\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 26\n                  }, this), lastNameDB === \"\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"profile__user-lastName\",\n                    value: lastName,\n                    onChange: e => setLastName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 42\n                  }, this) : /*#__PURE__*/_jsxDEV(DisplayInfoName, {\n                    children: lastNameDB\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"profile-font\",\n                children: \"Ng\\xE0y Sinh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), birthdayDB === null ? /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"profile__user-date profile-use\",\n                type: \"date\",\n                value: birthday,\n                onChange: e => setBirthday(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 40\n              }, this) : /*#__PURE__*/_jsxDEV(DisplayInfo, {\n                children: formatDate(birthdayDB)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"profile-font\",\n                children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), phoneNumberDB === \"\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"profile__user-phone profile-use\",\n                value: phoneNumber,\n                onChange: e => setPhoneNumber(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(DisplayInfo, {\n                children: phoneNumberDB\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"profile-font\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), currentUser.email === \"\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"profile__user-mail profile-use\",\n                value: email,\n                onChange: e => setEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(DisplayInfo, {\n                children: currentUser.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"profile-font\",\n                children: \"Gi\\u1EDBi t\\xEDnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), genderDB === \"\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"profile__user-sex profile-use\",\n                value: gender,\n                onChange: e => setGender(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 36\n              }, this) : /*#__PURE__*/_jsxDEV(DisplayInfo, {\n                children: genderDB\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-save\",\n                onClick: handleSubmit,\n                children: \"L\\u01AFU\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Profile, \"xDbZmbiZfYGDCiPwX4mT59Vr5f8=\", false, function () {\n  return [useSelector];\n});\n\n_c3 = Profile;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DisplayInfo\");\n$RefreshReg$(_c2, \"DisplayInfoName\");\n$RefreshReg$(_c3, \"Profile\");","map":{"version":3,"sources":["C:/Users/tgound/Desktop/NCKH/Web1/frontend/src/pages/Profile/index.js"],"names":["Header","React","useEffect","useState","axios","useSelector","styled","moment","require","DisplayInfo","p","DisplayInfoName","Profile","isOpenModal","setIsOpenModal","firstName","setFirstName","lastName","setLastName","birthday","setBirthday","Date","phoneNumber","setPhoneNumber","email","setEmail","gender","setGender","firstNameDB","setFirstNameDB","lastNameDB","setLastNameDB","birthdayDB","setBirthdayDB","phoneNumberDB","setPhoneNumberDB","emailDB","setEmailDB","genderDB","setGenderDB","currentUser","state","user","handleSubmit","e","preventDefault","console","log","method","url","_id","data","headers","then","res","catch","err","getUserInfo","get","alert","formatDate","inputDate","format","target","value"],"mappings":"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","sourcesContent":["import { Header } from \"../../components/Header\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./index.css\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nconst moment = require(\"moment\");\r\n\r\nconst DisplayInfo = styled.p`\r\n    font-size: 20px;\r\n    margin-left: 30px;\r\n    font-style: italic;\r\n    font-weight: 200\r\n  `;\r\n\r\nconst DisplayInfoName = styled.p`\r\n    font-size: 20px;\r\n    display: block;\r\n    margin-top: -25px;\r\n    margin-left: 415px;\r\n    font-style: italic;\r\n    font-weight: 200\r\n  `;\r\n\r\nexport const Profile = () => {\r\n  const [isOpenModal, setIsOpenModal] = useState(false);\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [birthday, setBirthday] = useState(Date);\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [gender, setGender] = useState(\"\");\r\n  const [firstNameDB, setFirstNameDB] = useState(\"\");\r\n  const [lastNameDB, setLastNameDB] = useState(\"\");\r\n  const [birthdayDB, setBirthdayDB] = useState(Date);\r\n  const [phoneNumberDB, setPhoneNumberDB] = useState(\"\");\r\n  const [emailDB, setEmailDB] = useState(\"\");\r\n  const [genderDB, setGenderDB] = useState(\"\");\r\n\r\n  const { currentUser } = useSelector((state) => state.user);\r\n\r\n  const handleSubmit = async (e) => {\r\n    // SEND data to DB\r\n    e.preventDefault();\r\n    console.log(firstName);\r\n    console.log(lastName);\r\n    console.log(birthday);\r\n    console.log(phoneNumber);\r\n    console.log(gender);\r\n\r\n    axios({\r\n      method: \"POST\",\r\n      url: `/api/users/edit-profile/${currentUser._id}`,\r\n      data: { firstName, lastName, birthday, phoneNumber, gender },\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    })\r\n      .then((res) => {\r\n        console.log(\"edit user info succeed\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getUserInfo = () => {\r\n    axios.get(`/api/users/info/${currentUser._id}`)\r\n      .then((res) => {\r\n        const data = res.data;\r\n        setFirstNameDB(data.firstName);\r\n        setLastNameDB(data.lastName);\r\n        setBirthdayDB(data.birthday);\r\n        setPhoneNumberDB(data.phoneNumber);\r\n        setGenderDB(data.gender)\r\n        console.log(\"user info has been received\");\r\n        console.log(data);\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Error while get user info\")\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserInfo()\r\n    // dispatch(loginSuccess(state => state.user))\r\n\r\n  }, [])\r\n\r\n  const formatDate = (inputDate) => {\r\n    return moment(inputDate).format('DD/MM/YYYY')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header isOpenModal={isOpenModal} setIsOpenModal={setIsOpenModal} />\r\n      <div>\r\n        <div className=\"banner-profile\">\r\n          <div className=\"profile-menu\">\r\n            <div className=\"profile\">\r\n              <div className=\"profile__user profile__user-left\">\r\n                <div className=\"profile__image-user\"></div>\r\n\r\n                {firstNameDB === \"\" ? <p className=\"profile__user-name\">...</p> : <p className=\"profile__user-name\">{firstNameDB + \" \" + lastNameDB}</p>}\r\n              </div>\r\n\r\n              <div className=\"profile__user profile__user-right\">\r\n                <div className=\"profile-choose\">\r\n                  <div className=\"profile-fullName\">\r\n                    <p className=\"profile-font\">Họ</p>\r\n                    <p className=\"profile-ten profile-font\">Tên</p>\r\n                  </div>\r\n                  <div className=\"profile-name\">\r\n                    {firstNameDB === \"\" ? <input\r\n                      type=\"text\"\r\n                      className=\"profile__user-firstName\"\r\n                      value={firstName}\r\n                      onChange={(e) => setFirstName(e.target.value)}\r\n                    /> : <DisplayInfo>{firstNameDB}</DisplayInfo>}\r\n                    {lastNameDB === \"\" ? <input\r\n                      type=\"text\"\r\n                      className=\"profile__user-lastName\"\r\n                      value={lastName}\r\n                      onChange={(e) => setLastName(e.target.value)}\r\n                    /> : <DisplayInfoName>{lastNameDB}</DisplayInfoName>}\r\n                  </div>\r\n                </div>\r\n                <p className=\"profile-font\">Ngày Sinh</p>\r\n                {birthdayDB === null ? <input\r\n                  className=\"profile__user-date profile-use\"\r\n                  type=\"date\"\r\n                  value={birthday}\r\n                  onChange={(e) => setBirthday(e.target.value)}\r\n                /> : <DisplayInfo>{formatDate(birthdayDB)}</DisplayInfo>}\r\n                <p className=\"profile-font\">Số điện thoại</p>\r\n                {phoneNumberDB === \"\" ? <input\r\n                  type=\"text\"\r\n                  className=\"profile__user-phone profile-use\"\r\n                  value={phoneNumber}\r\n                  onChange={(e) => setPhoneNumber(e.target.value)}\r\n                /> : <DisplayInfo>{phoneNumberDB}</DisplayInfo>}\r\n                <p className=\"profile-font\">Email</p>\r\n                {currentUser.email === \"\" ?\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"profile__user-mail profile-use\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                  : (\r\n                    <DisplayInfo>{currentUser.email}</DisplayInfo>\r\n                  )}\r\n                <p className=\"profile-font\">Giới tính</p>\r\n                {genderDB === \"\" ? <input\r\n                  type=\"text\"\r\n                  className=\"profile__user-sex profile-use\"\r\n                  value={gender}\r\n                  onChange={(e) => setGender(e.target.value)}\r\n                /> : <DisplayInfo>{genderDB}</DisplayInfo>}\r\n                <span className=\"profile-save\" onClick={handleSubmit}>\r\n                  LƯU\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"footer-profile\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}